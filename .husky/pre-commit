echo "ğŸ” Running pre-commit checks..."

# Run TypeScript type checking
echo "ğŸ“ Checking TypeScript types..."
pnpm type-check
if [ $? -ne 0 ]; then
  echo "âŒ TypeScript type checking failed. Please fix the errors before committing."
  exit 1
fi

# Run ESLint on all files
echo "ğŸ”§ Running ESLint..."
pnpm lint
if [ $? -ne 0 ]; then
  echo "âŒ ESLint found errors. Please fix the errors before committing."
  exit 1
fi

# Run Prettier format check
echo "ğŸ’… Checking code formatting..."
pnpm format:check
if [ $? -ne 0 ]; then
  echo "âŒ Code formatting check failed. Please run 'pnpm format' to fix formatting issues."
  exit 1
fi

# Run lint-staged for staged files
echo "ğŸš€ Running lint-staged on staged files..."
npx lint-staged
if [ $? -ne 0 ]; then
  echo "âŒ lint-staged failed. Please fix the issues before committing."
  exit 1
fi

echo "âœ… All pre-commit checks passed!"